version: "3.5"
services:
  postgres:
    image: "postgres:12"
    ports:
    - "5432:5432"
    environment:
      POSTGRES_PASSWORD: abm
    volumes:
      - ./conf/postgres/initdb/:/docker-entrypoint-initdb.d/
    networks:
      - interdb
  pgAdmin:
    image: "dpage/pgadmin4:latest"
    ports:
      - "15432:80"
    environment:
      PGADMIN_DEFAULT_EMAIL: abm@assuresoft.com
      PGADMIN_DEFAULT_PASSWORD: abm
      PGADMIN_SERVER_JSON_FILE: /pgadmin4/conf/server.json
    volumes:
      - ./conf/pgadmin/:/pgadmin4/conf/
    networks:
      - interdb
networks:
  default:
    name: abm_default
    driver: bridge
  interdb:
    name: abm_interdb
    driver: bridge

